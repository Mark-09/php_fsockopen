<?php
namespace php_fsockopenTest;
use php_fsockopen;
use php_fsockopen\fsockopen;
use PHPUnit\Framework\TestCase;
class php_fsockopenTest extends TestCase{

  public function testGet(){
    $Url = "https://raw.githubusercontent.com/yakeing/php_fsockopen/master/tests/return";
    $Referer = "https://github.com";
    $fs = new fsockopen();
    $fs->OnContinue = true;//HTTP/1.1 417 Expectation Failed / HTTP/1.1 100 Continue
    $fs->init(
        10,
        'tcp',
        true
    );
    $ret = $fs->GET(
        $Url,
        $Referer
    );
    $this->assertTrue(is_array($ret));
    $this->assertEquals('Hello world', trim($ret['body']));
  }

  public function testPost(){}
}
